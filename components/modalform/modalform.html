{% if form_action == 'close' %}
    <script>
        $('#dialog').on("close", function (evt) {
            location.reload();
        });
    </script>
{% endif %}

<form hx-post="{{ form_path }}" method="post">
    {% csrf_token %}

    {% component 'modalform.Modal' form_title only %}
        {% fill 'modal_body' %}
            {% slot 'modal_body' default %}
            {% endslot %}
        {% endfill %}
        {% fill "modal_footer" %}
            {% if form_action == "submit" %}
                {% slot "modal_submit_button" %}
                    <button class="btn btn-success join-item">Save</button>
                {% endslot %}
            {% endif %}
            {% if form_action == "close" %}
                <div class="modal-action">
                    <form method="dialog join">
                        {% slot "modal_submit_button" %}
                            <button class="btn join-item">Close</button>
                        {% endslot %}
                    </form>
                </div>
            {% endif %}
        {% endfill %}
    {% endcomponent %}
</form>