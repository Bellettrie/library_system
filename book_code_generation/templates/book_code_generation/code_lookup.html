<script>function loadDoc() {
    {% if location_id_field %}
    var y = document.getElementById('{{ location_id_field }}').value
    {% else %}
        var y = "{{ location_id_direct }}"
    {% endif %}
    {% if title_id %}
        var title = document.getElementById('{{ title_id }}').value
    {% endif %}
    var x = {% if publication_id %}{{ publication_id }}{% else %} - 1
    {% endif %}
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
            document.getElementById("data_store").innerHTML = this.responseText;
        }
    };
    xhttp.open("GET", "/book_code/generate/" + x + "/" + y, true);
    xhttp.send();
}
</script>
<button type="button" onclick="loadDoc()" class="btn">Request data</button>
<div id="data_store"></div>